<html>
    <head>
        <title>Login/Register</title>
        <script
          src="https://code.jquery.com/jquery-3.3.1.js"
          integrity="sha256-2Kok7MbOyxpgUVvAk/HJ2jigOSYS2auK4Pfzbm7uH60="
          crossorigin="anonymous"></script>
    </head>
    <body>
        <div style="text-align: center">
            <input id="username" />
            <button type="button" id="login">Login</button>
            <button type="button" id="register">Register</button>
            <div id="message"></div>
        </div>
        <script type="text/javascript">
            successCallback = function(data) {
                data = JSON.parse(data)
                if (data["status"] == "success") {
                    window.location = "collect";
                } else {
                    $("#message").text(data["message"])
                }
            }
            $("#login").click(function() {
                $.ajax({
                    url: "login",
                    method: "POST",
                    data: {username: $("#username").val()},
                    success: successCallback
                });
            }); 
            $("#register").click(function() {
                $.ajax({
                    url: "register",
                    method: "POST",
                    data: {username: $("#username").val()},
                    success: successCallback
                });
            })   
        </script>
    </body>
</html>